/**
    jExtract: a small function for extracting data from DOM.
    Version with no jQuery needed.
    Version: 0.0.1
    Author: Mikhail Kormanowsky (@kormanowsky)
    Date: 06.01.2018
*/
!function(){var t=function(t){return void 0===t},n=function(t){return"object"==typeof t&&t instanceof Object&&!(t instanceof Array)},e=function(t){return"object"==typeof t&&t instanceof Array},r=function(t){return"string"==typeof t},i=function(t){return e(t)&&!t.length},o=function(t){return"function"==typeof t},u=function(t){return null===t},c=function(n){this.get=function(t){return t=t||!0,t?n.trim():n},this.match=function(n,r){var i=this.get().match(new RegExp(n));return!t(r)&&e(i)&&r in i?i[r]:i},this.toInt=function(t){return t=t||!1,!isNaN(parseInt(this.get()))||t?parseInt(this.get()):0},this.toFloat=function(t){t=t||!1;var n=this.get().replace(",",".");return!isNaN(parseFloat(n))||t?parseFloat(n):0}},a=function(t){this.text=function(){return t.innerText||t.textContent},this.attr=function(n){return t.getAttribute(n)}},f=function(s,l){var h={};s=s||{},l=l||document;var p=function(t){return"."==t?l:l.querySelectorAll(t)},v=function(t){var n,e;return r(t)?n=t:i(t)||(n=t[0],t.length>1&&(e=t.slice(1))),[n,e]};if(r(l)){var g=l;return l=document.createElement("div"),l.innerHTML=g,f(s,l)}for(var y in s){var d=s[y];if(n(d))return void(h[y]=f(d,l));var w,m,x=["text",[]],E=["get",[]],N=!1,b=[];r(d)?w=p(d):(w=p(d[0]),n(d[1])?m=d[1]:e(d[1])&&!i(d[1])?x=v(d[1]):o(d[1])&&(x[0]=d[1]),o(d[2])?E[0]=d[2]:e(d[2])&&!i(d[2])&&(E=v(d[2])),t(d[3])||(N=!!d[3])),w instanceof NodeList||(w=[w]),w.forEach(function(i,s){var i=w[s];if(t(m)){var l,h,p,v=new a(i);o(x[0])?(l=x[0],h=[v,s,w].concat(x[1]),p=null):r(x[0])?(l=v[x[0]],h=x[1],p=v):(l=function(){},p=null,h=[]);var g,y=l.apply(p,h);if(u(y)||t(y))return;n(y)||e(y)||r(y)?(y instanceof c||(y=new c(y+"")),o(E[0])?(l=E[0],h=[y,s].concat(E[1]),content=null):r(E[0])?(l=y[E[0]],h=E[1],p=y):(l=function(){},p=null,h=[]),g=l.apply(p,h)):g=y,b.push(g)}else b.push(f(m,i))}),!N&&b.length<2&&(b=b[0]),h[y]=b}return h};window.$E=window.jExtract=f}();