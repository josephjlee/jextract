function jExtract(t,n){if("function"!=typeof jQuery)throw"jExtract error: jExtract depends on jQuery, but it wasn`t loaded";t=t||{},n=n||$("html");var e=function(t){return n.find(t)},r=function(t){var n,e;return c(t)?n=t:a(t)||(n=t[0],t.length>1&&(e=t.slice(1))),[n,e]},o=function(t){return void 0===t},i=function(t){return"object"==typeof t&&t instanceof Object&&!(t instanceof Array)},u=function(t){return"object"==typeof t&&t instanceof Array},c=function(t){return"string"==typeof t},a=function(t){return u(t)&&!t.length},f=function(t){return"function"==typeof t},p=function(t){this._text=t},s=function(t){this._jquery=t},h={};return p.prototype.get=function(t){return t=t||!0,t?this._text.trim():this._text},p.prototype.match=function(t,n){var e=this.get().match(new RegExp(t));return!o(n)&&u(e)&&n in e?e[n]:e},p.prototype.toInt=function(t){return t=t||!1,!isNaN(parseInt(this.get()))||t?parseInt(this.get()):0},p.prototype.toFloat=function(t){t=t||!1;var n=this.get().replace(",",".");return!isNaN(parseFloat(n))||t?parseFloat(n):0},s.prototype.text=function(){return new p(this._jquery.text())},s.prototype.attr=function(t){return new p(this._jquery.attr(t))},s.prototype.recget=function(t){var n=this;return(t=t.split(".")).forEach(function(t){t in n&&(n=n[t])}),n},$.each(t,function(t,l){if(i(l))h[t]=jExtract(l,n);else{var y,j,g=["text",[]],x=["get",[]],v=!1,w=[];c(l)?y=e(l):(y=e(l[0]),i(l[1])?j=l[1]:u(l[1])&&!a(l[1])?g=r(l[1]):f(l[1])&&(g[0]=l[1]),f(l[2])?x[0]=l[2]:u(l[2])&&!a(l[2])&&(x=r(l[2])),o(l[3])||(v=!!l[3])),y.each(function(t,n){if(o(j)){var e,r,i,u=new s($(n));f(g[0])?(e=g[0],r=[u._jquery,y].concat(g[1]),i=null):c(g[0])?(e=u.recget(g[0]),r=g[1],i=u):(e=function(){},i=null,r=[]);var a=e.apply(i,r);a instanceof p||(a=new p(a+"")),f(x[0])?(e=x[0],r=[a].concat(x[1]),content=null):c(x[0])?(e=a[x[0]],r=x[1],i=a):(e=function(){},i=null,r=[]),w.push(e.apply(i,r))}else w.push(jExtract(j,$(n)))}),!v&&w.length<2&&(w=w[0]),h[t]=w}}),h}
